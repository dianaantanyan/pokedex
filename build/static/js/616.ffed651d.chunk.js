(self.webpackChunkpokedex=self.webpackChunkpokedex||[]).push([[616],{46672:(e,t,s)=>{"use strict";s.d(t,{S:()=>c});var n=s(5576),i=s(7716),o=s(47248),a=s(39952),r=s(25956);const c=(0,n.aw)("pokemon/addPkemon",(async(e,t)=>{let{getState:s,dispatch:n}=t;try{const{app:{userInfo:t},pokemon:{userPokemons:c}}=s();if(null===t||void 0===t||!t.email)return n((0,r.IR)("Please login in order to add pokemon to your collection."));if(-1===c.findIndex((t=>t.name===e.name))){let s=[];e.stats?s=e.types:e.types.forEach((e=>s.push(Object.keys(e).toString()))),await(0,i.sB)(o._0,{pokemon:{id:e.id,name:e.name,types:s},email:t.email}),await n((0,a.E)()),n((0,r.IR)("".concat(e.name," added to your collection.")))}else n((0,r.IR)("".concat(e.name," already part of your collection.")))}catch(c){console.log({err:c})}}))},74380:(e,t,s)=>{"use strict";s.d(t,{c:()=>m});s(69060);var n=s(96792),i=s(58088),o=s(88848),a=s(91212),r=s(3663),c=s(51560),l=s(25956),h=s(46672),d=s(44328),u=s(82496);const m=function(e){let{pokemons:t}=e;const s=(0,a.A)(),m=(0,c.i6)(),p=(0,c.IT)();return(0,u.jsx)("div",{className:"pokemon-card-grid-container",children:(0,u.jsx)("div",{className:"pokemon-card-grid",children:t&&t.length>0&&(null===t||void 0===t?void 0:t.map((e=>(0,u.jsxs)("div",{className:"pokemon-card",children:[(0,u.jsx)("div",{className:"pokemon-card-list",children:p.pathname.includes("/pokemon")||p.pathname.includes("/search")?(0,u.jsx)(i.wTC,{className:"plus",onClick:()=>s((0,h.S)(e))}):(0,u.jsx)(i.qi_,{className:"trash",onClick:async()=>{await s((0,r.c)({id:e.firebaseId})),s((0,l.IR)("Pokemon Removed Successfully."))}})}),(0,u.jsx)("div",{className:"pokemon-card-compare",children:(0,u.jsx)(n.gtb,{onClick:()=>{s((0,o.GA)(e)),s((0,l.IR)("".concat(e.name," has been added to compare queue.")))}})}),(0,u.jsx)("h3",{className:"pokemon-card-title",children:e.name}),(0,u.jsx)("img",{src:e.image,alt:"",className:"pokemon-card-image",loading:"lazy",onClick:()=>{s((0,l.sl)(d.g7.description)),s((0,o.uj)(void 0)),m("/pokemon/".concat(e.id))}}),(0,u.jsx)("div",{className:"pokemon-card-types",children:e.types.map(((e,t)=>{const s=Object.keys(e);return(0,u.jsxs)("div",{className:"pokemon-card-types-type",children:[(0,u.jsx)("img",{src:e[s[0]].image,alt:"pokemon type",className:"pokemon-card-types-type-image",loading:"lazy"}),(0,u.jsx)("h6",{className:"pokemon-card-types-type-text",children:s[0]})]},t)}))})]},e.id))))})})}},3616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var n=s(69060),i=s(98748),o=s(51560),a=s(42044),r=s(40732),c=s(98372),l=s(91212),h=s(74380),d=s(70588),u=s(72940),m=s(82496);const p=function(){const[e,t]=(0,n.useState)(!1),s=(0,l.A)(),i=(0,l.C)((e=>{let{pokemon:t}=e;return t}));return(0,n.useEffect)((()=>{(async()=>{const e=i.currentPokemon.evolution.map((e=>{let{pokemon:t}=e;return t}));await s((0,d.O)(e)),t(!0)})()}),[s,i.currentPokemon]),(0,m.jsx)("div",{className:"page",children:e?(0,m.jsx)(h.c,{pokemons:i.randomPokemons}):(0,m.jsx)(u.c,{})})};const v=function(){const e=(0,l.C)((e=>{let{pokemon:{currentPokemon:t}}=e;return t}));return(0,m.jsx)("div",{className:"pokemon-locations",children:(0,m.jsx)("ul",{className:"pokemon-locations-list",children:null===e||void 0===e?void 0:e.encounters.map((e=>(0,m.jsx)("li",{className:"pokemon-location",children:e},e)))})})};const g=function(){const e=(0,l.C)((e=>{let{pokemon:{currentPokemon:t}}=e;return t}));return(0,m.jsxs)("div",{className:"page capable-moves",children:[(0,m.jsx)("h1",{className:"capable-moves-title",children:"Abilities"}),(0,m.jsx)("ul",{className:"capable-moves-list ability",children:null===e||void 0===e?void 0:e.pokemonAbilities.abilities.map((e=>(0,m.jsx)("li",{className:"move",children:e},e)))}),(0,m.jsx)("h1",{className:"capable-moves-title",children:"Moves"}),(0,m.jsx)("ul",{className:"capable-moves-list",children:null===e||void 0===e?void 0:e.pokemonAbilities.moves.map((e=>(0,m.jsx)("li",{className:"move",children:e},e)))})]})};var j=s(46672),x=s(25956),k=s(44328);const f=function(e){let{data:t}=e;const s=(0,l.A)();(0,n.useEffect)((()=>{document.querySelectorAll("progress").forEach((e=>{e.style.width="10rem"}))}),[]);const i=(e,t)=>{const s=new Set;return e.forEach((e=>{a.cp[e][t].forEach((e=>{s.has(e)||s.add(e[0].toUpperCase()+e.slice(1))}))})),Array.from(s)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("h1",{className:"name",children:null===t||void 0===t?void 0:t.name}),(0,m.jsxs)("h3",{children:["Type: ",null===t||void 0===t?void 0:t.types.join(" - ")]}),(0,m.jsxs)("h3",{children:["Evolution: ",null===t||void 0===t?void 0:t.evolutionLevel]}),(0,m.jsx)("button",{onClick:()=>s((0,x.sl)(k.g7.evolution)),children:"See next evolution"})]}),(0,m.jsx)("div",{className:"stats",children:(0,m.jsx)("ul",{children:null===t||void 0===t?void 0:t.stats.map((e=>(0,m.jsxs)("li",{children:[e.name,": ",e.value,(0,m.jsx)("progress",{max:100,value:e.value})]},e.name)))})}),(0,m.jsxs)("div",{className:"battle-stats",children:[(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{children:"Strengths:"}),(0,m.jsx)("span",{children:i(null===t||void 0===t?void 0:t.types,"strength").join(", ")})]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{children:"Weakness:"}),(0,m.jsx)("span",{children:i(null===t||void 0===t?void 0:t.types,"weakness").join(", ")})]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{children:"Resistant:"}),(0,m.jsx)("span",{children:i(null===t||void 0===t?void 0:t.types,"resistance").join(", ")})]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{children:"Vulnerable:"}),(0,m.jsx)("span",{children:i(null===t||void 0===t?void 0:t.types,"vulnerable").join(", ")})]})]}),(0,m.jsx)("button",{onClick:()=>s((0,j.S)(t)),className:"add-pokemon",children:"Add Pokemon"})]})]})};const b=function(e){let{image:t}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"circle-container",children:(0,m.jsxs)("div",{className:"outer-circle",children:[(0,m.jsx)("div",{className:"inner-circle",children:(0,m.jsx)("img",{src:t,alt:""})}),(0,m.jsxs)("div",{className:"lines",children:[(0,m.jsx)("div",{className:"line line-1"}),(0,m.jsx)("div",{className:"line line-2"})]})]})})})};const y=function(){const e=(0,l.C)((e=>{let{pokemon:{currentPokemon:t}}=e;return t}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{data:e}),e&&(0,m.jsx)(b,{image:e.image})]})};var w=s(88848);const N=(0,i.c)((function(){const e=(0,o.W4)(),t=(0,l.A)(),s=(0,l.C)((e=>{let{app:{currentPokemonTab:t}}=e;return t})),i=(0,l.C)((e=>{let{pokemon:{currentPokemon:t}}=e;return t}));(0,n.useEffect)((()=>{t((0,x.sl)(k.g7.description))}),[t]);const h=(0,n.useCallback)(((e,t,s)=>e.evolves_to.length?(s.push({pokemon:{...e.species,url:e.species.url.replace("pokemon-species","pokemon")},level:t}),h(e.evolves_to[0],t+1,s)):s.push({pokemon:{...e.species,url:e.species.url.replace("pokemon-species","pokemon")},level:t})),[]),d=(0,n.useCallback)((e=>{const t=[];return h(e,1,t),t}),[h]),[j,f]=(0,n.useState)(!0),b=(0,n.useCallback)((async s=>{const{data:n}=await c.c.get("".concat(k.gl,"/").concat(e.id)),{data:i}=await c.c.get(n.location_area_encounters),{data:{evolution_chain:{url:o}}}=await c.c.get("".concat(k.Uz,"/").concat(n.id)),{data:a}=await c.c.get(o),r={abilities:n.abilities.map((e=>{let{ability:t}=e;return t.name})),moves:n.moves.map((e=>{let{move:t}=e;return t.name}))},l=[],h=d(a.chain);let u;u=h.find((e=>{let{pokemon:t}=e;return t.name===n.name})).level,i.forEach((e=>{l.push(e.location_area.name.toUpperCase().split("-").join(" "))}));const m=await n.stats.map((e=>{let{stat:t,base_stat:s}=e;return{name:t.name,value:s}}));t((0,w.uj)({id:n.id,name:n.name,types:n.types.map((e=>{let{type:{name:t}}=e;return t})),image:s,stats:m,encounters:l,evolutionLevel:u,evolution:h,pokemonAbilities:r})),f(!1)}),[e.id,t,d]);return(0,n.useEffect)((()=>{const t=document.createElement("img");t.src=a.um[e.id];const s={pixels:1e4,distance:1,splitPower:10,colorValidator:function(e,t,s){return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:255)>250},saturationDistance:.2,lightnessDistance:.2,hueDistance:.083333333};(async()=>{const e=await(0,r.extractColors)(t.src,s);document.documentElement.style.setProperty("--accent-color",e[0].hex.split('"')[0])})();let n=a.um[e.id];n||(n=a.uG[e.id]),b(n)}),[e.id,b]),(0,m.jsx)(m.Fragment,{children:!j&&i?(0,m.jsxs)(m.Fragment,{children:[s===k.g7.description&&(0,m.jsx)(y,{}),s===k.g7.evolution&&(0,m.jsx)(p,{}),s===k.g7.locations&&(0,m.jsx)(v,{}),s===k.g7.moves&&(0,m.jsx)(g,{})]}):(0,m.jsx)(u.c,{})})}))},98748:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});s(69060);var n=s(82496);const i=e=>()=>(0,n.jsx)("div",{className:"content",children:(0,n.jsx)(e,{})})},40732:function(e,t){!function(e){"use strict";class t{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e<<16|t<<8|s;this.i=1,this.h=-1,this.o=-1,this.u=-1,this.l=-1,this.g=e,this.M=t,this.p=s,this.m=n}static distance(e,t){return(Math.abs(t.g-e.g)+Math.abs(t.M-e.M)+Math.abs(t.p-e.p))/765}v(){const e=this.g/255,t=this.M/255,s=this.p/255,n=Math.max(e,t,s),i=Math.min(e,t,s);if(this.u=(n+i)/2,n===i)this.o=0,this.h=0,this.l=0;else{const o=n-i;switch(this.h=this.u>.5?o/(2-n-i):o/(n+i),this.l=this.h*(2*(.5-Math.abs(.5-this.u))),n){case e:this.o=((t-s)/o+(t<s?6:0))/6;break;case t:this.o=((s-e)/o+2)/6;break;case s:this.o=((e-t)/o+4)/6}}}get C(){return-1===this.o&&this.v(),this.o}get $(){return-1===this.h&&this.v(),this.h}get _(){return-1===this.u&&this.v(),this.u}get j(){return-1===this.l&&this.v(),this.l}}const s=(e,t)=>Math.abs(e-t);class n{constructor(){this.D=[],this.N=null}O(e){this.D.push(e),this.N=null}P(e,t,n,i){for(let r=0;r<this.D.length;r++){const c=this.D[r];if(o=c.C,a=e.C,!(Math.min(s(o,a),s((o+.5)%1,(a+.5)%1))<t&&s(c.$,e.$)<n&&s(c._,e._)<i))return!1}var o,a;return!0}get W(){if(!this.N){const{r:e,G:s,b:n}=this.D.reduce(((e,t)=>(e.r+=t.g,e.G+=t.M,e.b+=t.p,e)),{r:0,G:0,b:0}),i=this.D.reduce(((e,t)=>e+t.i),0);this.N=new t(Math.round(e/this.D.length),Math.round(s/this.D.length),Math.round(n/this.D.length)),this.N.i=i}return this.N}}class i{constructor(e,t,s){this.I=[],this.C=e,this.$=t,this._=s}O(e){const t=this.I.find((t=>t.P(e,this.C,this.$,this._)));if(t)t.O(e);else{const t=new n;t.O(e),this.I.push(t)}}L(){return this.I.map((e=>e.W))}}const o=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.MAX_SAFE_INTEGER;if(!Number.isInteger(t)||t<s||t>n)throw new Error("".concat(e," is invalid (").concat(t,")"));return t},a=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.MAX_VALUE;if(Number(t)!==t||t<s||t>n)throw new Error("".concat(e," is invalid (").concat(t,")"));return t},r=(e,t)=>{if(!t||"[object Function]"!=={}.toString.call(t))throw new Error("".concat(e," is invalid (").concat(t,")"));return t};var c=e=>{var t,s,n,i,c,l,h,d;return[o("pixels",null!=(t=e.pixels)?t:1e4,1),a("distance",null!=(s=e.distance)?s:.12,0,1),o("splitPower",null!=(n=e.splitPower)?n:10,2,15),r("colorValidator",null!=(i=e.colorValidator)?i:(e,t,s,n)=>(null!=n?n:255)>250),a("hueDistance",null!=(c=e.hueDistance)?c:.08333333333333333,0,1),a("saturationDistance",null!=(l=e.saturationDistance)?l:.2,0,1),a("lightnessDistance",null!=(h=e.lightnessDistance)?h:.2,0,1),null!=(d=e.crossOrigin)?d:null]};class l{constructor(){this.i=1,this.S={}}O(e,s,n,i){return this.S[e]?this.S[e].i++:this.S[e]=new t(s,n,i,e),this.S[e]}k(){return Object.keys(this.S).map((e=>this.S[e]))}T(e){if(void 0===this.B){const t=this.k().map((t=>t.i/e));t.sort(((e,t)=>t-e)),this.B=t[0]||0}return this.B}F(e){const t=this.k();return t.sort(((t,s)=>s.i/e-t.i/e)),t[0]}H(){return this.k().reduce(((e,t)=>e.i>=t.i?e:t))}}class h{constructor(){this.i=1,this.S={}}R(e){return this.S[e]?this.S[e].i++:this.S[e]=new h,this.S[e]}k(){return Object.keys(this.S).map((e=>this.S[e]))}V(e){return this.S[e]?this.S[e].i++:this.S[e]=new l,this.S[e]}T(e){if(void 0===this.B){const t=this.k().map((t=>t.i/e));t.sort(((e,t)=>t-e)),this.B=t[0]||0}return this.B}F(e){const t=this.k();return t.sort(((t,s)=>s.i/e-t.i/e)),t[0].F(e)}H(){return this.k().reduce(((e,t)=>e.H().i>=t.H().i?e:t)).H()}q(e,s){const n=this.k().map((e=>{const{i:t}=e,s=e.H();return s.i=t,s}));n.sort(((e,t)=>t.i/s-e.i/s));const i=[];return n.forEach((s=>{const n=i.find((n=>t.distance(n,s)<e));n?n.i+=s.i:i.push(s)})),i}}var d=(e,t,s,n,i)=>{let{data:o,width:a,height:r}=e;const c=new h,l=a&&r&&Math.floor(a*r/t)||1;for(let h=0;h<o.length;h+=4*l){const e=o[h],t=o[h+1],s=o[h+2];if(i(e,t,s,o[h+3])){const i=e<<16|t<<8|s,o=(e>>4&15)<<8|(t>>4&15)<<4|s>>4&15,a=Math.round(e*(n-1)/255)*(n*n)+Math.round(t*(n-1)/255)*n+Math.round(s*(n-1)/255);c.R(a).V(o).O(i,e,t,s)}}return c.q(s,t)};const u=(e,t,s,n,o)=>{const a=((e,t,s,n,o)=>{const a=new i(s,n,o);e.forEach((e=>a.O(e)));const r=a.L();return r.sort(((e,s)=>(s.j+.1)*(.9-s.i/t)-(e.j+.1)*(.9-e.i/t))),r})(e,t,s,n,o);return a.map((e=>((e,t)=>({hex:"#".concat("0".repeat(6-e.m.toString(16).length)).concat(e.m.toString(16)),red:e.g,green:e.M,blue:e.p,area:e.i/t,hue:e.C,saturation:e.$,lightness:e._,intensity:e.j}))(e,t)))},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[s,n,i,o,a,r,l]=c(t),h=d(e,s,n,i,o),m=e.width&&e.height?Math.min(e.width*e.height,s):s;return u(h,m,a,r,l)},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[s,n,i,o,a,r,l,h]=c(t);return e.crossOrigin=h,new Promise((t=>{const c=e=>{const c=((e,t)=>{const s=e.width*e.height,n=s<t?e.width:Math.round(e.width*Math.sqrt(t/s)),i=s<t?e.height:Math.round(e.height*Math.sqrt(t/s)),o=document.createElement("canvas");o.width=n,o.height=i;const a=o.getContext("2d");return a.drawImage(e,0,0,e.width,e.height,0,0,n,i),a.getImageData(0,0,n,i)})(e,s),h=d(c,s,n,i,o);t(u(h,s,a,r,l))};if(e.complete)c(e);else{const t=()=>{e.removeEventListener("load",t),c(e)};e.addEventListener("load",t)}}))},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=new Image;return s.src=e,p(s,t)},g=(e,t)=>{if(e instanceof Image)return p(e,t);if(e instanceof ImageData||e instanceof Object&&e.data)return new Promise((s=>{s(m(e,t))}));if("string"==typeof e)return v(e,t);throw new Error("Can not analyse picture")};e.default=g,e.extractColors=g,e.extractColorsFromImage=p,e.extractColorsFromImageData=m,e.extractColorsFromSrc=v,Object.defineProperties(e,{A:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}(t)}}]);
//# sourceMappingURL=616.ffed651d.chunk.js.map